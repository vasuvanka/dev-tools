import{a as T,b as S,c as k,d as R,e as E,i as N,j as I,k as F}from"./chunk-EUKOMUS6.js";import{i as O,j as x,k as v}from"./chunk-54UJDMYX.js";import{Ga as y,Ka as b,Va as l,Wa as i,X as C,Xa as t,Y as M,ab as w,cb as p,ea as h,eb as _,gb as P,ib as r,kb as f,mb as d,nb as u,ob as g,ua as s}from"./chunk-DCNC2EXY.js";function D(c,n){if(c&1){let a=w();i(0,"button",22),p("click",function(){let m=C(a).$implicit,o=_();return M(o.setPreset(m))}),r(1),t()}if(c&2){let a=n.$implicit,e=_();l("disabled",e.isRunning()),s(),f(" ",a.name," ")}}function W(c,n){c&1&&(i(0,"div",23)(1,"h2"),r(2,"\u{1F389} Timer Finished!"),t(),i(3,"p"),r(4,"Your countdown has completed."),t()())}var B=class c{hours=0;minutes=0;seconds=0;timeRemaining=h(0);isRunning=h(!1);playBeep=!0;showNotification=!0;intervalId=null;presets=[{name:"1 min",hours:0,minutes:1,seconds:0},{name:"5 min",hours:0,minutes:5,seconds:0},{name:"10 min",hours:0,minutes:10,seconds:0},{name:"15 min",hours:0,minutes:15,seconds:0},{name:"30 min",hours:0,minutes:30,seconds:0},{name:"1 hour",hours:1,minutes:0,seconds:0}];ngOnDestroy(){this.clearInterval()}getTotalSeconds(){return this.hours*3600+this.minutes*60+this.seconds}setPreset(n){this.hours=n.hours,this.minutes=n.minutes,this.seconds=n.seconds,this.timeRemaining.set(this.getTotalSeconds())}startTimer(){this.getTotalSeconds()!==0&&(this.timeRemaining.set(this.getTotalSeconds()),this.isRunning.set(!0),this.startCountdown())}pauseTimer(){this.isRunning.set(!1),this.clearInterval()}resetTimer(){this.isRunning.set(!1),this.clearInterval(),this.timeRemaining.set(0),this.hours=0,this.minutes=0,this.seconds=0}startCountdown(){this.clearInterval(),this.intervalId=window.setInterval(()=>{if(this.timeRemaining()<=0){this.timerFinished();return}this.timeRemaining.update(n=>n-1)},1e3)}clearInterval(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}timerFinished(){this.isRunning.set(!1),this.clearInterval(),this.playBeep&&this.playBeepSound(),this.showNotification&&this.showBrowserNotification()}playBeepSound(){let n=new(window.AudioContext||window.webkitAudioContext),a=n.createOscillator(),e=n.createGain();a.connect(e),e.connect(n.destination),a.frequency.setValueAtTime(800,n.currentTime),e.gain.setValueAtTime(.3,n.currentTime),e.gain.exponentialRampToValueAtTime(.01,n.currentTime+.5),a.start(n.currentTime),a.stop(n.currentTime+.5)}async showBrowserNotification(){"Notification"in window&&(Notification.permission==="granted"?new Notification("Timer Finished!",{body:"Your countdown timer has completed.",icon:"/favicon.ico"}):Notification.permission!=="denied"&&await Notification.requestPermission()==="granted"&&new Notification("Timer Finished!",{body:"Your countdown timer has completed.",icon:"/favicon.ico"}))}formatTime(n){let a=Math.floor(n/3600),e=Math.floor(n%3600/60),m=n%60;return a>0?`${a.toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}:${m.toString().padStart(2,"0")}`:`${e.toString().padStart(2,"0")}:${m.toString().padStart(2,"0")}`}static \u0275fac=function(a){return new(a||c)};static \u0275cmp=y({type:c,selectors:[["app-timer"]],decls:50,vars:18,consts:[[1,"timer-container"],[1,"timer-header"],[1,"timer-display"],[1,"time-circle"],[1,"time-text"],[1,"time-label"],[1,"timer-controls"],[1,"time-inputs"],[1,"input-group"],["type","number","min","0","max","23",1,"time-input",3,"ngModelChange","ngModel","disabled"],["type","number","min","0","max","59",1,"time-input",3,"ngModelChange","ngModel","disabled"],[1,"control-buttons"],[1,"control-button","start",3,"click","disabled"],[1,"control-button","pause",3,"click","disabled"],[1,"control-button","reset",3,"click"],[1,"preset-timers"],[1,"preset-buttons"],["class","preset-button",3,"disabled","click",4,"ngFor","ngForOf"],[1,"timer-settings"],[1,"setting-item"],["type","checkbox",1,"checkbox",3,"ngModelChange","ngModel"],["class","timer-finished",4,"ngIf"],[1,"preset-button",3,"click","disabled"],[1,"timer-finished"]],template:function(a,e){a&1&&(i(0,"div",0)(1,"div",1)(2,"h1"),r(3,"\u23F0 Timer"),t(),i(4,"p"),r(5,"Set a countdown timer with beep notification"),t()(),i(6,"div",2)(7,"div",3)(8,"div",4),r(9),t(),i(10,"div",5),r(11),t()()(),i(12,"div",6)(13,"div",7)(14,"div",8)(15,"label"),r(16,"Hours"),t(),i(17,"input",9),g("ngModelChange",function(o){return u(e.hours,o)||(e.hours=o),o}),t()(),i(18,"div",8)(19,"label"),r(20,"Minutes"),t(),i(21,"input",10),g("ngModelChange",function(o){return u(e.minutes,o)||(e.minutes=o),o}),t()(),i(22,"div",8)(23,"label"),r(24,"Seconds"),t(),i(25,"input",10),g("ngModelChange",function(o){return u(e.seconds,o)||(e.seconds=o),o}),t()()(),i(26,"div",11)(27,"button",12),p("click",function(){return e.startTimer()}),r(28," \u25B6\uFE0F Start "),t(),i(29,"button",13),p("click",function(){return e.pauseTimer()}),r(30," \u23F8\uFE0F Pause "),t(),i(31,"button",14),p("click",function(){return e.resetTimer()}),r(32," \u{1F504} Reset "),t()()(),i(33,"div",15)(34,"h3"),r(35,"Quick Presets"),t(),i(36,"div",16),b(37,D,2,2,"button",17),t()(),i(38,"div",18)(39,"h3"),r(40,"Settings"),t(),i(41,"div",19)(42,"label")(43,"input",20),g("ngModelChange",function(o){return u(e.playBeep,o)||(e.playBeep=o),o}),t(),r(44," Play beep when timer ends "),t()(),i(45,"div",19)(46,"label")(47,"input",20),g("ngModelChange",function(o){return u(e.showNotification,o)||(e.showNotification=o),o}),t(),r(48," Show browser notification "),t()()(),b(49,W,5,0,"div",21),t()),a&2&&(s(7),P("running",e.isRunning())("finished",e.timeRemaining()===0),s(2),f(" ",e.formatTime(e.timeRemaining())," "),s(2),f(" ",e.isRunning()?"Running":e.timeRemaining()===0?"Finished!":"Ready"," "),s(6),d("ngModel",e.hours),l("disabled",e.isRunning()),s(4),d("ngModel",e.minutes),l("disabled",e.isRunning()),s(4),d("ngModel",e.seconds),l("disabled",e.isRunning()),s(2),l("disabled",e.isRunning()||e.getTotalSeconds()===0),s(2),l("disabled",!e.isRunning()),s(8),l("ngForOf",e.presets),s(6),d("ngModel",e.playBeep),s(4),d("ngModel",e.showNotification),s(2),l("ngIf",e.timeRemaining()===0&&e.isRunning()))},dependencies:[v,O,x,F,S,E,T,k,I,N,R],styles:[".timer-container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:2rem;background:#fff;border-radius:16px;box-shadow:0 4px 20px #0000001a}.timer-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.timer-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#333;font-size:2rem}.timer-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666}.timer-display[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:2rem}.time-circle[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:50%;border:8px solid #e0e0e0;display:flex;flex-direction:column;align-items:center;justify-content:center;transition:all .3s ease;background:#fff}.time-circle.running[_ngcontent-%COMP%]{border-color:#4caf50;box-shadow:0 0 20px #4caf504d}.time-circle.finished[_ngcontent-%COMP%]{border-color:#ff4757;box-shadow:0 0 20px #ff47574d;animation:_ngcontent-%COMP%_pulse 1s infinite}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.05)}to{transform:scale(1)}}.time-text[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#333;font-family:Courier New,monospace}.time-label[_ngcontent-%COMP%]{font-size:.9rem;color:#666;margin-top:.5rem}.timer-controls[_ngcontent-%COMP%]{margin-bottom:2rem}.time-inputs[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;margin-bottom:2rem}.input-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#666;margin-bottom:.5rem;font-size:.9rem}.time-input[_ngcontent-%COMP%]{width:80px;padding:.75rem;border:2px solid #e0e0e0;border-radius:8px;text-align:center;font-size:1.2rem;font-weight:600;outline:none;transition:border-color .3s ease}.time-input[_ngcontent-%COMP%]:focus{border-color:#667eea}.time-input[_ngcontent-%COMP%]:disabled{background:#f8f9fa;color:#666}.control-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem}.control-button[_ngcontent-%COMP%]{padding:1rem 2rem;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s ease;font-size:1rem}.control-button.start[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.control-button.start[_ngcontent-%COMP%]:hover:not(:disabled){background:#45a049}.control-button.pause[_ngcontent-%COMP%]{background:#ff9800;color:#fff}.control-button.pause[_ngcontent-%COMP%]:hover:not(:disabled){background:#f57c00}.control-button.reset[_ngcontent-%COMP%]{background:#f44336;color:#fff}.control-button.reset[_ngcontent-%COMP%]:hover{background:#d32f2f}.control-button[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}.preset-timers[_ngcontent-%COMP%]{margin-bottom:2rem}.preset-timers[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1rem;color:#333;text-align:center}.preset-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:.5rem}.preset-button[_ngcontent-%COMP%]{padding:.5rem 1rem;background:#f8f9fa;border:1px solid #e0e0e0;border-radius:20px;cursor:pointer;transition:all .3s ease;font-size:.9rem}.preset-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#667eea;color:#fff;border-color:#667eea}.preset-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.timer-settings[_ngcontent-%COMP%]{margin-bottom:2rem}.timer-settings[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1rem;color:#333;text-align:center}.setting-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:.5rem}.setting-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;font-weight:500}.checkbox[_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer}.timer-finished[_ngcontent-%COMP%]{text-align:center;padding:2rem;background:linear-gradient(135deg,#ff6b6b,#ff8e8e);color:#fff;border-radius:12px;animation:_ngcontent-%COMP%_celebration 2s ease-in-out}@keyframes _ngcontent-%COMP%_celebration{0%{transform:scale(.8);opacity:0}50%{transform:scale(1.1)}to{transform:scale(1);opacity:1}}.timer-finished[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:2rem}.timer-finished[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1.1rem}@media (max-width: 768px){.timer-container[_ngcontent-%COMP%]{padding:1rem}.time-circle[_ngcontent-%COMP%]{width:150px;height:150px}.time-text[_ngcontent-%COMP%]{font-size:2rem}.time-inputs[_ngcontent-%COMP%]{gap:.5rem}.time-input[_ngcontent-%COMP%]{width:60px;padding:.5rem}.control-buttons[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.control-button[_ngcontent-%COMP%]{width:200px}}"]})};export{B as TimerComponent};
