import{b as D,c as F,d as T,k as I}from"./chunk-EUKOMUS6.js";import{i as k,j as E,k as w}from"./chunk-54UJDMYX.js";import{Ga as J,Ka as _,Va as c,Wa as i,Xa as o,cb as p,ea as C,eb as b,fb as O,gb as h,hb as M,ib as a,jb as u,kb as g,mb as S,nb as P,ob as j,ua as r}from"./chunk-DCNC2EXY.js";function z(s,t){if(s&1&&(i(0,"pre",22),a(1),o()),s&2){let e=b();r(),u(e.formattedJson())}}function V(s,t){s&1&&(i(0,"div",23),a(1," Formatted JSON will appear here... "),o())}function A(s,t){if(s&1&&(i(0,"div",24)(1,"span"),a(2),o(),i(3,"span"),a(4),o(),i(5,"span",25),a(6),o()()),s&2){let e,n=b();r(2),g("Characters: ",((e=n.formattedJson())==null?null:e.length)||0),r(2),g("Lines: ",n.getLineCount(n.formattedJson()||"")),r(),h("success",n.isValidJson())("error",!n.isValidJson()),r(),g(" ",n.getStatusMessage()," ")}}function L(s,t){if(s&1&&(i(0,"span",34),a(1),o()),s&2){let e=b().$implicit;r(),g("",e.key,":")}}function B(s,t){if(s&1&&(i(0,"div",29)(1,"div",30),_(2,L,2,1,"span",31),i(3,"span",32),a(4),o(),i(5,"span",33),a(6),o()()()),s&2){let e=t.$implicit;r(),O("padding-left",e.level*20,"px"),r(),c("ngIf",e.key),r(),M(e.type),r(),u(e.value),r(2),u(e.type)}}function K(s,t){if(s&1&&(i(0,"div",26)(1,"h3"),a(2,"JSON Tree View"),o(),i(3,"div",27),_(4,B,7,7,"div",28),o()()),s&2){let e=b();r(4),c("ngForOf",e.jsonTree())}}function R(s,t){if(s&1&&(i(0,"div",35)(1,"h3"),a(2,"JSON Statistics"),o(),i(3,"div",36)(4,"div",37)(5,"span",38),a(6,"Total Keys:"),o(),i(7,"span",39),a(8),o()(),i(9,"div",37)(10,"span",38),a(11,"Object Count:"),o(),i(12,"span",39),a(13),o()(),i(14,"div",37)(15,"span",38),a(16,"Array Count:"),o(),i(17,"span",39),a(18),o()(),i(19,"div",37)(20,"span",38),a(21,"String Count:"),o(),i(22,"span",39),a(23),o()(),i(24,"div",37)(25,"span",38),a(26,"Number Count:"),o(),i(27,"span",39),a(28),o()(),i(29,"div",37)(30,"span",38),a(31,"Boolean Count:"),o(),i(32,"span",39),a(33),o()(),i(34,"div",37)(35,"span",38),a(36,"Null Count:"),o(),i(37,"span",39),a(38),o()(),i(39,"div",37)(40,"span",38),a(41,"Max Depth:"),o(),i(42,"span",39),a(43),o()()()()),s&2){let e,n,l,d,m,y,v,x,f=b();r(8),u((e=f.jsonStats())==null?null:e.totalKeys),r(5),u((n=f.jsonStats())==null?null:n.objectCount),r(5),u((l=f.jsonStats())==null?null:l.arrayCount),r(5),u((d=f.jsonStats())==null?null:d.stringCount),r(5),u((m=f.jsonStats())==null?null:m.numberCount),r(5),u((y=f.jsonStats())==null?null:y.booleanCount),r(5),u((v=f.jsonStats())==null?null:v.nullCount),r(5),u((x=f.jsonStats())==null?null:x.maxDepth)}}var N=class s{inputJson="";formattedJson=C("");isValidJson=C(!0);jsonTree=C([]);jsonStats=C(null);sampleJson=`{
  "name": "John Doe",
  "age": 30,
  "isActive": true,
  "address": {
    "street": "123 Main St",
    "city": "New York",
    "zipCode": "10001"
  },
  "hobbies": ["reading", "coding", "gaming"],
  "contact": {
    "email": "john@example.com",
    "phone": "+1-555-0123"
  },
  "metadata": null
}`;onInputChange(){this.validateJson()}formatJson(){try{let t=JSON.parse(this.inputJson),e=JSON.stringify(t,null,2);this.formattedJson.set(e),this.isValidJson.set(!0),this.buildJsonTree(t),this.calculateStats(t)}catch{this.formattedJson.set(""),this.isValidJson.set(!1),this.jsonTree.set([]),this.jsonStats.set(null)}}minifyJson(){try{let t=JSON.parse(this.inputJson),e=JSON.stringify(t);this.formattedJson.set(e),this.isValidJson.set(!0),this.buildJsonTree(t),this.calculateStats(t)}catch{this.formattedJson.set(""),this.isValidJson.set(!1),this.jsonTree.set([]),this.jsonStats.set(null)}}validateJson(){try{JSON.parse(this.inputJson),this.isValidJson.set(!0)}catch{this.isValidJson.set(!1)}}clearInput(){this.inputJson="",this.formattedJson.set(""),this.jsonTree.set([]),this.jsonStats.set(null)}clearOutput(){this.formattedJson.set(""),this.jsonTree.set([]),this.jsonStats.set(null)}async copyOutput(){if(this.formattedJson())try{await navigator.clipboard.writeText(this.formattedJson())}catch(t){console.error("Failed to copy to clipboard:",t)}}downloadJson(){if(this.formattedJson()){let t=new Blob([this.formattedJson()],{type:"application/json"}),e=URL.createObjectURL(t),n=document.createElement("a");n.href=e,n.download="formatted.json",n.click(),URL.revokeObjectURL(e)}}async pasteFromClipboard(){try{let t=await navigator.clipboard.readText();this.inputJson=t,this.onInputChange()}catch(t){console.error("Failed to paste from clipboard:",t)}}loadSample(){this.inputJson=this.sampleJson,this.onInputChange()}getStatusMessage(){return this.inputJson.trim()?this.isValidJson()?"Valid JSON":"Invalid JSON":""}getLineCount(t){return t.split(`
`).length}buildJsonTree(t,e=0,n=""){let l=[];typeof t=="object"&&t!==null&&(Array.isArray(t)?t.forEach((d,m)=>{l.push({key:`[${m}]`,value:typeof d=="object"?"{...}":String(d),type:this.getType(d),level:e}),typeof d=="object"&&d!==null&&this.buildJsonTree(d,e+1,`[${m}]`)}):Object.entries(t).forEach(([d,m])=>{l.push({key:d,value:typeof m=="object"?Array.isArray(m)?"[...]":"{...}":String(m),type:this.getType(m),level:e}),typeof m=="object"&&m!==null&&this.buildJsonTree(m,e+1,d)})),this.jsonTree.set(l)}getType(t){return t===null?"null":Array.isArray(t)?"array":typeof t}calculateStats(t){let e={totalKeys:0,objectCount:0,arrayCount:0,stringCount:0,numberCount:0,booleanCount:0,nullCount:0,maxDepth:0};this.analyzeObject(t,e,0),this.jsonStats.set(e)}analyzeObject(t,e,n){if(e.maxDepth=Math.max(e.maxDepth,n),t===null){e.nullCount++;return}if(Array.isArray(t))e.arrayCount++,t.forEach(l=>this.analyzeObject(l,e,n+1));else if(typeof t=="object")e.objectCount++,Object.entries(t).forEach(([l,d])=>{e.totalKeys++,this.analyzeObject(d,e,n+1)});else switch(typeof t){case"string":e.stringCount++;break;case"number":e.numberCount++;break;case"boolean":e.booleanCount++;break}}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=J({type:s,selectors:[["app-json-formatter"]],decls:48,vars:16,consts:[[1,"json-container"],[1,"json-header"],[1,"json-content"],[1,"input-section"],[1,"section-header"],[1,"input-actions"],[1,"action-button",3,"click"],["placeholder","Paste your JSON here...",1,"json-input",3,"ngModelChange","input","ngModel"],[1,"input-stats"],[1,"action-buttons"],[1,"format-button",3,"click","disabled"],[1,"minify-button",3,"click","disabled"],[1,"validate-button",3,"click","disabled"],[1,"output-section"],[1,"output-actions"],[1,"action-button",3,"click","disabled"],[1,"json-viewer"],["class","json-output",4,"ngIf"],["class","placeholder",4,"ngIf"],["class","output-stats",4,"ngIf"],["class","json-tree",4,"ngIf"],["class","json-stats",4,"ngIf"],[1,"json-output"],[1,"placeholder"],[1,"output-stats"],[1,"status"],[1,"json-tree"],[1,"tree-container"],["class","tree-node",4,"ngFor","ngForOf"],[1,"tree-node"],[1,"node-content"],["class","node-key",4,"ngIf"],[1,"node-value"],[1,"node-type"],[1,"node-key"],[1,"json-stats"],[1,"stats-grid"],[1,"stat-item"],[1,"stat-label"],[1,"stat-value"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"div",1)(2,"h1"),a(3,"\u{1F4C4} JSON Formatter & Viewer"),o(),i(4,"p"),a(5,"Format, validate, and beautify JSON data"),o()(),i(6,"div",2)(7,"div",3)(8,"div",4)(9,"h3"),a(10,"JSON Input"),o(),i(11,"div",5)(12,"button",6),p("click",function(){return n.clearInput()}),a(13," \u{1F5D1}\uFE0F Clear "),o(),i(14,"button",6),p("click",function(){return n.pasteFromClipboard()}),a(15," \u{1F4CB} Paste "),o(),i(16,"button",6),p("click",function(){return n.loadSample()}),a(17," \u{1F4DD} Sample "),o()()(),i(18,"textarea",7),j("ngModelChange",function(d){return P(n.inputJson,d)||(n.inputJson=d),d}),p("input",function(){return n.onInputChange()}),o(),i(19,"div",8)(20,"span"),a(21),o(),i(22,"span"),a(23),o()()(),i(24,"div",9)(25,"button",10),p("click",function(){return n.formatJson()}),a(26," \u2728 Format & Beautify "),o(),i(27,"button",11),p("click",function(){return n.minifyJson()}),a(28," \u{1F4E6} Minify "),o(),i(29,"button",12),p("click",function(){return n.validateJson()}),a(30," \u2705 Validate "),o()(),i(31,"div",13)(32,"div",4)(33,"h3"),a(34,"Formatted Output"),o(),i(35,"div",14)(36,"button",15),p("click",function(){return n.copyOutput()}),a(37," \u{1F4CB} Copy "),o(),i(38,"button",15),p("click",function(){return n.downloadJson()}),a(39," \u{1F4BE} Download "),o(),i(40,"button",15),p("click",function(){return n.clearOutput()}),a(41," \u{1F5D1}\uFE0F Clear "),o()()(),i(42,"div",16),_(43,z,2,1,"pre",17)(44,V,2,0,"div",18),o(),_(45,A,7,7,"div",19),o(),_(46,K,5,1,"div",20)(47,R,44,8,"div",21),o()()),e&2&&(r(18),S("ngModel",n.inputJson),r(3),g("Characters: ",n.inputJson.length),r(2),g("Lines: ",n.getLineCount(n.inputJson)),r(2),c("disabled",!n.inputJson.trim()),r(2),c("disabled",!n.inputJson.trim()),r(2),c("disabled",!n.inputJson.trim()),r(7),c("disabled",!n.formattedJson()),r(2),c("disabled",!n.formattedJson()),r(2),c("disabled",!n.formattedJson()),r(2),h("error",!n.isValidJson()),r(),c("ngIf",n.formattedJson()),r(),c("ngIf",!n.formattedJson()),r(),c("ngIf",n.formattedJson()),r(),c("ngIf",n.jsonTree().length>0),r(),c("ngIf",n.jsonStats()))},dependencies:[w,k,E,I,D,F,T],styles:[".json-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem;background:#fff;border-radius:16px;box-shadow:0 4px 20px #0000001a}.json-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.json-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#333;font-size:2rem}.json-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666}.json-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.input-section[_ngcontent-%COMP%], .output-section[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:12px;padding:1.5rem;border:1px solid #e0e0e0}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333;font-size:1.2rem}.input-actions[_ngcontent-%COMP%], .output-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.action-button[_ngcontent-%COMP%]{padding:.5rem 1rem;background:#667eea;color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:.9rem;transition:background .3s ease}.action-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#5a6fd8}.action-button[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}.json-input[_ngcontent-%COMP%]{width:100%;min-height:200px;padding:1rem;border:2px solid #e0e0e0;border-radius:8px;font-family:Courier New,monospace;font-size:.9rem;resize:vertical;outline:none;transition:border-color .3s ease}.json-input[_ngcontent-%COMP%]:focus{border-color:#667eea}.input-stats[_ngcontent-%COMP%], .output-stats[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:.5rem;font-size:.8rem;color:#666}.action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;flex-wrap:wrap}.format-button[_ngcontent-%COMP%], .minify-button[_ngcontent-%COMP%], .validate-button[_ngcontent-%COMP%]{padding:1rem 2rem;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s ease;font-size:1rem}.format-button[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.format-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#45a049}.minify-button[_ngcontent-%COMP%]{background:#ff9800;color:#fff}.minify-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#f57c00}.validate-button[_ngcontent-%COMP%]{background:#2196f3;color:#fff}.validate-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#1976d2}.format-button[_ngcontent-%COMP%]:disabled, .minify-button[_ngcontent-%COMP%]:disabled, .validate-button[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}.json-viewer[_ngcontent-%COMP%]{border:2px solid #e0e0e0;border-radius:8px;background:#fff;min-height:200px;overflow:auto}.json-viewer.error[_ngcontent-%COMP%]{border-color:#ff4757;background:#ffe6e6}.json-output[_ngcontent-%COMP%]{margin:0;padding:1rem;font-family:Courier New,monospace;font-size:.9rem;line-height:1.4;white-space:pre-wrap;word-break:break-word}.placeholder[_ngcontent-%COMP%]{padding:2rem;text-align:center;color:#666;font-style:italic}.status[_ngcontent-%COMP%]{font-weight:600}.status.success[_ngcontent-%COMP%]{color:#4caf50}.status.error[_ngcontent-%COMP%]{color:#ff4757}.json-tree[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:12px;padding:1.5rem;border:1px solid #e0e0e0}.json-tree[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1rem;color:#333;font-size:1.2rem}.tree-container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1rem;border:1px solid #e0e0e0;max-height:300px;overflow-y:auto}.tree-node[_ngcontent-%COMP%]{margin-bottom:.25rem}.node-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-family:Courier New,monospace;font-size:.9rem}.node-key[_ngcontent-%COMP%]{font-weight:600;color:#1976d2}.node-value[_ngcontent-%COMP%]{color:#333}.node-value.string[_ngcontent-%COMP%]{color:#4caf50}.node-value.number[_ngcontent-%COMP%]{color:#ff9800}.node-value.boolean[_ngcontent-%COMP%]{color:#9c27b0}.node-value.null[_ngcontent-%COMP%]{color:#666;font-style:italic}.node-type[_ngcontent-%COMP%]{font-size:.8rem;color:#666;background:#e0e0e0;padding:.2rem .5rem;border-radius:4px}.json-stats[_ngcontent-%COMP%]{background:#e3f2fd;border-radius:12px;padding:1.5rem;border:1px solid #bbdefb}.json-stats[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1rem;color:#1976d2;font-size:1.2rem}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem}.stat-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.5rem;background:#fff;border-radius:6px;border:1px solid #e0e0e0}.stat-label[_ngcontent-%COMP%]{font-weight:600;color:#666}.stat-value[_ngcontent-%COMP%]{font-weight:700;color:#1976d2}@media (max-width: 768px){.json-container[_ngcontent-%COMP%]{padding:1rem}.action-buttons[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.format-button[_ngcontent-%COMP%], .minify-button[_ngcontent-%COMP%], .validate-button[_ngcontent-%COMP%]{width:200px}.section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:1rem}.input-actions[_ngcontent-%COMP%], .output-actions[_ngcontent-%COMP%]{justify-content:center}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};export{N as JsonFormatterComponent};
