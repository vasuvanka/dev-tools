import{b as F,c as V,d as A,k as N}from"./chunk-EUKOMUS6.js";import{i as I,j as D,k as E}from"./chunk-54UJDMYX.js";import{Ga as T,Ka as _,Va as c,Wa as i,X as g,Xa as n,Y as u,Ya as b,a as h,ab as f,b as x,cb as m,ea as C,eb as p,fb as v,gb as y,ib as s,jb as M,kb as w,lb as O,mb as P,nb as k,ob as S,ua as r}from"./chunk-DCNC2EXY.js";function B(d,e){if(d&1){let t=f();i(0,"div",14)(1,"input",15),m("change",function(){let a=g(t).$implicit,l=p();return u(l.toggleTodo(a.id))}),n(),i(2,"span",16),s(3),n(),i(4,"span",17),s(5),n(),i(6,"button",18),m("click",function(){let a=g(t).$implicit,l=p();return u(l.deleteTodo(a.id))}),s(7,"\xD7"),n()()}if(d&2){let t=e.$implicit,o=p();y("completed",t.completed),r(),c("checked",t.completed),r(2),M(t.text),r(2),w(" ",o.formatDate(t.createdAt)," ")}}function z(d,e){d&1&&(i(0,"div",19)(1,"p"),s(2,"No tasks yet. Add one above!"),n()())}function W(d,e){if(d&1){let t=f();i(0,"div",20)(1,"button",21),m("click",function(){g(t);let a=p();return u(a.clearCompleted())}),s(2," Clear Completed "),n(),i(3,"button",22),m("click",function(){g(t);let a=p();return u(a.clearAll())}),s(4," Clear All "),n()()}if(d&2){let t=p();r(),c("disabled",t.completedCount()===0)}}var L=class d{todos=C([]);newTodoText="";nextId=1;ngOnInit(){let e=localStorage.getItem("todos");if(e)try{let t=JSON.parse(e);this.todos.set(t)}catch(t){console.error("Error loading todos from localStorage:",t),this.todos.set([])}}addTodo(){if(this.newTodoText.trim()){let e={id:this.nextId++,text:this.newTodoText.trim(),completed:!1,createdAt:new Date};this.todos.update(t=>[...t,e]),this.updateLocalStorage(),this.newTodoText=""}}toggleTodo(e){this.todos.update(t=>t.map(o=>o.id===e?x(h({},o),{completed:!o.completed}):o)),this.updateLocalStorage()}updateLocalStorage(){try{localStorage.setItem("todos",JSON.stringify(this.todos()))}catch(e){console.error("Error saving todos to localStorage:",e)}}deleteTodo(e){this.todos.update(t=>t.filter(o=>o.id!==e)),this.updateLocalStorage()}clearCompleted(){this.todos.update(e=>e.filter(t=>!t.completed)),this.updateLocalStorage()}clearAll(){this.todos.set([]),this.updateLocalStorage()}completedCount(){return this.todos().filter(e=>e.completed).length}progressPercentage(){let e=this.todos().length;return e===0?0:this.completedCount()/e*100}trackByFn(e,t){return t.id}formatDate(e){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(e))}static \u0275fac=function(t){return new(t||d)};static \u0275cmp=T({type:d,selectors:[["app-todo"]],decls:18,vars:10,consts:[[1,"todo-container"],[1,"todo-content","glass-card"],[1,"todo-header"],[1,"progress-section"],[1,"progress-bar","glass-medium"],[1,"progress-fill"],[1,"progress-text"],[1,"add-todo"],["type","text","placeholder","Add a new task...",1,"todo-input","glass-input",3,"ngModelChange","keyup.enter","ngModel"],[1,"add-button","glass-button",3,"click","disabled"],[1,"todo-list"],["class","todo-item glass-light",3,"completed",4,"ngFor","ngForOf","ngForTrackBy"],["class","empty-state glass-section",4,"ngIf"],["class","todo-actions",4,"ngIf"],[1,"todo-item","glass-light"],["type","checkbox",1,"todo-checkbox",3,"change","checked"],[1,"todo-text"],[1,"todo-created-at",2,"margin-left","auto","font-size","0.85em","color","var(--text-secondary)"],[1,"delete-button","glass-button",3,"click"],[1,"empty-state","glass-section"],[1,"todo-actions"],[1,"action-button","glass-button",3,"click","disabled"],[1,"action-button","glass-button","danger",3,"click"]],template:function(t,o){t&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),s(4,"\u{1F4DD} Todo List"),n(),i(5,"div",3)(6,"div",4),b(7,"div",5),n(),i(8,"span",6),s(9),n()()(),i(10,"div",7)(11,"input",8),S("ngModelChange",function(l){return k(o.newTodoText,l)||(o.newTodoText=l),l}),m("keyup.enter",function(){return o.addTodo()}),n(),i(12,"button",9),m("click",function(){return o.addTodo()}),s(13," Add "),n()(),i(14,"div",10),_(15,B,8,5,"div",11)(16,z,3,0,"div",12),n(),_(17,W,5,1,"div",13),n()()),t&2&&(r(7),v("width",o.progressPercentage(),"%"),r(2),O("",o.completedCount()," / ",o.todos().length," completed"),r(2),P("ngModel",o.newTodoText),r(),c("disabled",!o.newTodoText.trim()),r(3),c("ngForOf",o.todos())("ngForTrackBy",o.trackByFn),r(),c("ngIf",o.todos().length===0),r(),c("ngIf",o.todos().length>0))},dependencies:[E,I,D,N,F,V,A],styles:[".todo-container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:2rem}.todo-content[_ngcontent-%COMP%]{padding:2rem}.todo-header[_ngcontent-%COMP%]{margin-bottom:2rem}.todo-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 1rem;color:var(--text-primary);font-size:2rem}.progress-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.progress-bar[_ngcontent-%COMP%]{flex:1;height:8px;border-radius:4px;overflow:hidden}.progress-fill[_ngcontent-%COMP%]{height:100%;background:var(--gradient-success);transition:width .3s ease}.progress-text[_ngcontent-%COMP%]{font-weight:600;color:var(--text-secondary);min-width:120px}.add-todo[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:2rem}.todo-input[_ngcontent-%COMP%]{flex:1}.add-button[_ngcontent-%COMP%]{padding:.75rem 1.5rem}.todo-list[_ngcontent-%COMP%]{margin-bottom:2rem}.todo-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem;border-radius:8px;margin-bottom:.5rem;transition:all .3s ease}.todo-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--glass-shadow-light)}.todo-item.completed[_ngcontent-%COMP%]{opacity:.6}.todo-item.completed[_ngcontent-%COMP%]   .todo-text[_ngcontent-%COMP%]{text-decoration:line-through}.todo-checkbox[_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer}.todo-text[_ngcontent-%COMP%]{flex:1;font-size:1rem;color:var(--text-primary)}.delete-button[_ngcontent-%COMP%]{background:var(--gradient-danger);color:#fff;border:none;border-radius:50%;width:30px;height:30px;cursor:pointer;font-size:1.2rem;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.delete-button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:var(--text-secondary)}.todo-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center}.action-button[_ngcontent-%COMP%]{padding:.5rem 1rem}.action-button.danger[_ngcontent-%COMP%]{background:var(--gradient-danger);color:#fff}.action-button.danger[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px)}"]})};export{L as TodoComponent};
